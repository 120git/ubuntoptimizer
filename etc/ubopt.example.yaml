# Cool Llama Linux Optimizer Configuration
# Copy this file to /etc/ubopt/ubopt.yaml and customize as needed

# General settings
general:
  # Enable verbose logging
  verbose: false
  
  # Automatic backup before changes
  auto_backup: true
  
  # Log rotation settings
  log_max_size_mb: 10
  log_max_files: 5

# Update settings
updates:
  # Update schedule (cron format or named: daily, weekly)
  schedule: daily
  
  # Reboot policy: never, when-required, always
  reboot: when-required
  
  # Check for updates daily
  auto_check: true
  
  # Apply security updates automatically
  auto_apply_security: false
  
  # Apply all updates automatically (use with caution)
  auto_apply_all: false
  
  # Notification settings
  notify_on_updates: true

# Hardening settings
hardening:
  # SSH hardening options
  ssh:
    enabled: true
    password_auth: false
    root_login: false
    key_only: true
    port: 22
    permit_empty_passwords: false
    challenge_response_auth: false
  
  # Auditd configuration
  auditd:
    enabled: true
    rules:
      - /etc/passwd
      - /etc/shadow
      - /etc/sudoers
    suid_monitoring: true
  
  # AppArmor/SELinux
  mandatory_access_control:
    enabled: true
    mode: enforce  # enforce or complain
  
  # Sysctl hardening
  sysctl:
    enabled: true
    ipv4_forward: 0
    ipv6_ra_accept: 0
    module_loading_disabled: false
    kernel_dmesg_restrict: 1
    kernel_kptr_restrict: 2
  
  # Apply firewall rules
  firewall:
    enabled: true
    default_policy: drop

# Backup settings
backup:
  # Backup destination directory
  dest: /var/backups/ubopt
  
  # Paths to include in backup
  includes:
    - /etc
    - /var/lib/ubopt
    - /usr/lib/ubopt
  
  # Paths to exclude from backup
  excludes:
    - /etc/ssl/private
    - /etc/*.cache
  
  # Compression method: gz, xz, zstd, none
  compression: xz
  
  # Retention policy
  retention:
    count: 7
    days: 30
  
  # Backup mode: tar or rsync
  mode: tar

# Benchmark settings
benchmark:
  # Tests to run (cpu, disk, mem)
  tests:
    - cpu
    - disk
    - mem
  
  # Test duration in seconds
  duration: 10
  
  # Output format: text or json
  format: text
  
  # CPU benchmark options
  cpu:
    threads: 0  # 0 = auto-detect, or specify number
  
  # Disk benchmark options
  disk:
    size_mb: 1024  # Size of test file in MB
    size_mb: 100
    direct_io: true
  
  # Memory benchmark options
  mem:
    workers: 4
    size_mb: 256

# Report settings
report:
  # Report targets (list)
  targets:
    - stdout
    - file
  
  # Include sections
  sections:
    - system_info
    - updates
    - hardening
    - health
    - benchmark

# Logging settings
logging:
  # Log level: debug, info, warn, error
  level: info
  
  # Log directory
  directory: /var/log/ubopt
  
  # JSON format logs
  json: true
  
  # Syslog integration
  syslog: true

# Monitoring settings
monitoring:
  # Enable system health monitoring
  enabled: true
  
  # Health check interval (minutes)
  check_interval: 60
  
  # Alert thresholds
  thresholds:
    disk_usage_percent: 90
    memory_usage_percent: 90
    cpu_load_multiplier: 2.0
    updates_overdue_days: 7
